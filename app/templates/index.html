<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QL App</title>

    <script src="/public/togeojson.js"></script>
    <script src="//npmcdn.com/@turf/turf/turf.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
          integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
          crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"
            integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
            crossorigin=""></script>
    <script src="/public/leaflet.curve.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/leaflet.groupedlayercontrol/0.6.0/leaflet.groupedlayercontrol.min.js"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;

            position: absolute;
        }

        #mapid {
            height: 100%;
        }
    </style>

    <link rel="stylesheet" href="/public/style.css">
</head>
<body>
<div id="mapid"></div>
<script src="/public/app.js"></script>

{% if initialData %}
    <script>
        const INIT = {{ initialData | safe }}
        main(INIT)
    </script>
{% else %}
    <script>
        const INIT = {}
        main(INIT)
    </script>
{% endif %}

</body>
</html>