<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QL App</title>

    <script src="/static/togeojson.js"></script>
    <script src="//npmcdn.com/@turf/turf/turf.min.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css"
          integrity="sha512-07I2e+7D8p6he1SIM+1twR5TIrhUQn9+I6yjqD53JQjFiMf8EtC93ty0/5vJTZGF8aAocvHYNEDJajGdNx1IsQ=="
          crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"
            integrity="sha512-A7vV8IFfih/D732iSSKi20u/ooOfj/AGehOKq0f4vLT1Zr2Y+RX7C+w8A1gaSasGtRUZpF/NZgzSAu4/Gc41Lg=="
            crossorigin=""></script>
    <script src="/static/leaflet.curve.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/leaflet.groupedlayercontrol/0.6.0/leaflet.groupedlayercontrol.min.js"></script>

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;

            position: absolute;
        }

        #mapid {
            height: 100%;
        }
    </style>

    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
<div id="mapid"></div>
<script src="/static/app.js"></script>


    <script>
        const INIT = {"files": [{"url": "/file/0B4anEMeK3KMdZkVWWlYzQzV6WEU", "mimeType": "application/json", "name": "flows.json", "data": "[\n  {\n    \"description\": \"/Saturday/08.04.2017 [13:00] -- /Saturday/08.04.2017 [14:30]\", \n    \"id\": \"590c8d273310d2000a0fb88d\", \n    \"points\": {\n      \"1\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 1, \n            \"parent_children\": 2, \n            \"pensioners\": 3\n          }, \n          \"E\": {\n            \"employeed\": 1, \n            \"pensioners\": 2, \n            \"students\": 4\n          }, \n          \"F\": {\n            \"employeed\": 10, \n            \"pensioners\": 1, \n            \"preschoolers\": 1, \n            \"y1017\": 1\n          }\n        }, \n        \"lat\": 59.886263, \n        \"lon\": 29.89725\n      }, \n      \"2\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 21, \n            \"parent_children\": 9, \n            \"pensioners\": 10, \n            \"preschoolers\": 2, \n            \"students\": 3, \n            \"y1017\": 8\n          }, \n          \"B\": {\n            \"employeed\": 3, \n            \"preschoolers\": 1\n          }, \n          \"E\": {\n            \"employeed\": 7, \n            \"pensioners\": 2, \n            \"y1017\": 2\n          }, \n          \"F\": {\n            \"employeed\": 2, \n            \"pensioners\": 2, \n            \"students\": 1\n          }\n        }, \n        \"lat\": 59.883141, \n        \"lon\": 29.895337\n      }, \n      \"3\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 1, \n            \"parent_children\": 2\n          }, \n          \"B\": {\n            \"employeed\": 1\n          }, \n          \"E\": {\n            \"employeed\": 5, \n            \"parent_children\": 5, \n            \"pensioners\": 6, \n            \"preschoolers\": 5, \n            \"students\": 13, \n            \"y1017\": 8\n          }, \n          \"F\": {\n            \"pensioners\": 1\n          }\n        }, \n        \"lat\": 59.883135, \n        \"lon\": 29.897897\n      }, \n      \"4\": {\n        \"directions\": {\n          \"A\": {\n            \"cadets\": 1, \n            \"employeed\": 21, \n            \"parent_children\": 11, \n            \"pensioners\": 21, \n            \"preschoolers\": 1, \n            \"students\": 9, \n            \"y1017\": 4\n          }, \n          \"B\": {\n            \"employeed\": 5, \n            \"parent_children\": 5, \n            \"pensioners\": 3, \n            \"students\": 2, \n            \"y1017\": 2\n          }, \n          \"C\": {\n            \"employeed\": 10, \n            \"parent_children\": 12, \n            \"pensioners\": 29, \n            \"preschoolers\": 4, \n            \"students\": 22, \n            \"y1017\": 11\n          }, \n          \"E\": {\n            \"employeed\": 35, \n            \"parent_children\": 14, \n            \"pensioners\": 28, \n            \"students\": 10, \n            \"y1017\": 14\n          }, \n          \"F\": {\n            \"cadets\": 1, \n            \"employeed\": 26, \n            \"parent_children\": 20, \n            \"pensioners\": 16, \n            \"students\": 17, \n            \"y1017\": 9\n          }\n        }, \n        \"lat\": 59.882014, \n        \"lon\": 29.895332\n      }, \n      \"5\": {\n        \"directions\": {\n          \"A\": {\n            \"cadets\": 1, \n            \"employeed\": 44, \n            \"parent_children\": 12, \n            \"pensioners\": 25, \n            \"preschoolers\": 2, \n            \"students\": 16, \n            \"y1017\": 8\n          }, \n          \"B\": {\n            \"cadets\": 3, \n            \"employeed\": 34, \n            \"parent_children\": 16, \n            \"pensioners\": 28, \n            \"students\": 16, \n            \"y1017\": 9\n          }\n        }, \n        \"lat\": 59.879852, \n        \"lon\": 29.894087\n      }\n    }\n  }, \n  {\n    \"description\": \"/Friday/28.04.2017 [08:20] -- /Friday/28.04.2017 [10:00]\", \n    \"id\": \"590c8d273310d2000a0fb88e\", \n    \"points\": {\n      \"1\": {\n        \"directions\": {\n          \"E\": {\n            \"employeed\": 2, \n            \"pensioners\": 3\n          }, \n          \"F\": {\n            \"employeed\": 2\n          }\n        }, \n        \"lat\": 59.886263, \n        \"lon\": 29.89725\n      }, \n      \"2\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 15, \n            \"parent_children\": 1, \n            \"pensioners\": 6\n          }, \n          \"B\": {\n            \"employeed\": 1, \n            \"pensioners\": 3, \n            \"preschoolers\": 1\n          }, \n          \"C\": {\n            \"pensioners\": 1\n          }, \n          \"E\": {\n            \"employeed\": 27, \n            \"pensioners\": 8, \n            \"preschoolers\": 13, \n            \"students\": 6, \n            \"y1017\": 2\n          }, \n          \"F\": {\n            \"employeed\": 20, \n            \"pensioners\": 5, \n            \"students\": 2\n          }\n        }, \n        \"lat\": 59.883141, \n        \"lon\": 29.895337\n      }, \n      \"3\": {\n        \"directions\": {\n          \"B\": {\n            \"employeed\": 4, \n            \"pensioners\": 2, \n            \"preschoolers\": 5\n          }, \n          \"E\": {\n            \"employeed\": 10, \n            \"pensioners\": 1, \n            \"students\": 1\n          }, \n          \"F\": {\n            \"employeed\": 4, \n            \"students\": 1\n          }\n        }, \n        \"lat\": 59.883135, \n        \"lon\": 29.897897\n      }, \n      \"4\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 55, \n            \"pensioners\": 15, \n            \"preschoolers\": 3, \n            \"students\": 1, \n            \"y1017\": 8\n          }, \n          \"B\": {\n            \"employeed\": 16, \n            \"parent_children\": 1, \n            \"pensioners\": 6, \n            \"preschoolers\": 4, \n            \"students\": 2, \n            \"y1017\": 1\n          }, \n          \"C\": {\n            \"employeed\": 18, \n            \"pensioners\": 6, \n            \"preschoolers\": 1, \n            \"students\": 5, \n            \"y1017\": 7\n          }, \n          \"D\": {\n            \"employeed\": 3, \n            \"y1017\": 1\n          }, \n          \"E\": {\n            \"employeed\": 23, \n            \"pensioners\": 16, \n            \"preschoolers\": 2, \n            \"students\": 9, \n            \"y1017\": 3\n          }, \n          \"F\": {\n            \"employeed\": 20, \n            \"parent_children\": 1, \n            \"pensioners\": 3, \n            \"students\": 14, \n            \"y1017\": 5\n          }\n        }, \n        \"lat\": 59.882014, \n        \"lon\": 29.895332\n      }, \n      \"5\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 13, \n            \"parent_children\": 1, \n            \"pensioners\": 4, \n            \"preschoolers\": 7, \n            \"students\": 9, \n            \"y1017\": 9\n          }, \n          \"B\": {\n            \"employeed\": 59, \n            \"parent_children\": 2, \n            \"pensioners\": 12, \n            \"preschoolers\": 3, \n            \"students\": 6, \n            \"y1017\": 4\n          }\n        }, \n        \"lat\": 59.879852, \n        \"lon\": 29.894087\n      }\n    }\n  }, \n  {\n    \"description\": \"/Friday/28.04.2017 [19:25] -- /Friday/28.04.2017 [20:45]\", \n    \"id\": \"590c8d273310d2000a0fb88f\", \n    \"points\": {\n      \"1\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 4, \n            \"parent_children\": 1, \n            \"y1017\": 1\n          }, \n          \"E\": {\n            \"employeed\": 13, \n            \"parent_children\": 2, \n            \"preschoolers\": 2, \n            \"students\": 4, \n            \"y1017\": 1\n          }, \n          \"F\": {\n            \"employeed\": 7, \n            \"preschoolers\": 1, \n            \"students\": 1\n          }\n        }, \n        \"lat\": 59.886263, \n        \"lon\": 29.89725\n      }, \n      \"2\": {\n        \"directions\": {\n          \"A\": {\n            \"employeed\": 16, \n            \"parent_children\": 6, \n            \"students\": 5\n          }, \n          \"B\": {\n            \"employeed\": 1, \n            \"parent_children\": 2, \n            \"pensioners\": 2, \n            \"students\": 6, \n            \"y1017\": 2\n          }, \n          \"C\": {\n            \"employeed\": 4, \n            \"y1017\": 1\n          }, \n          \"D\": {\n            \"employeed\": 2, \n            \"preschoolers\": 1\n          }, \n          \"E\": {\n            \"employeed\": 8, \n            \"parent_children\": 1, \n            \"students\": 1, \n            \"y1017\": 2\n          }, \n          \"F\": {\n            \"employeed\": 7, \n            \"pensioners\": 1, \n            \"students\": 1\n          }\n        }, \n        \"lat\": 59.883141, \n        \"lon\": 29.895337\n      }, \n      \"3\": {\n        \"directions\": {\n          \"E\": {\n            \"employeed\": 6\n          }, \n          \"F\": {\n            \"employeed\": 3\n          }\n        }, \n        \"lat\": 59.883135, \n        \"lon\": 29.897897\n      }, \n      \"4\": {\n        \"directions\": {\n          \"A\": {\n            \"cadets\": 34, \n            \"employeed\": 93, \n            \"parent_children\": 2, \n            \"pensioners\": 15, \n            \"preschoolers\": 19, \n            \"students\": 45, \n            \"y1017\": 17\n          }, \n          \"B\": {\n            \"employeed\": 11, \n            \"parent_children\": 1, \n            \"students\": 5, \n            \"y1017\": 4\n          }, \n          \"C\": {\n            \"employeed\": 58, \n            \"parent_children\": 1, \n            \"preschoolers\": 6, \n            \"students\": 9, \n            \"y1017\": 13\n          }, \n          \"D\": {\n            \"y1017\": 3\n          }, \n          \"E\": {\n            \"cadets\": 49, \n            \"employeed\": 44, \n            \"parent_children\": 1, \n            \"pensioners\": 1, \n            \"preschoolers\": 2, \n            \"students\": 7, \n            \"y1017\": 8\n          }, \n          \"F\": {\n            \"cadets\": 27, \n            \"employeed\": 29, \n            \"parent_children\": 2, \n            \"pensioners\": 4, \n            \"preschoolers\": 4, \n            \"students\": 20, \n            \"y1017\": 6\n          }\n        }, \n        \"lat\": 59.882014, \n        \"lon\": 29.895332\n      }, \n      \"5\": {\n        \"directions\": {\n          \"A\": {\n            \"cadets\": 44, \n            \"employeed\": 123, \n            \"parent_children\": 3, \n            \"pensioners\": 25, \n            \"preschoolers\": 12, \n            \"students\": 20, \n            \"y1017\": 11\n          }, \n          \"B\": {\n            \"cadets\": 16, \n            \"employeed\": 71, \n            \"parent_children\": 4, \n            \"pensioners\": 9, \n            \"preschoolers\": 14, \n            \"students\": 22, \n            \"y1017\": 18\n          }\n        }, \n        \"lat\": 59.879852, \n        \"lon\": 29.894087\n      }\n    }\n  }\n]", "version": "111442", "id": "0B4anEMeK3KMdZkVWWlYzQzV6WEU"}]}
        main(INIT)
    </script>


</body>
</html>
